{% extends 'layout.html' %}
{% load static %}

{% block content %}
<!-- MAIN -->

<!-- EFFICIENCY TIME -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <header class="card-header">
                <h1 class="card-title">ANÁLISIS DE RENDIMIENTO</h1>
            </header>
            <main class="card-body container-fluid">
                <div class="row my-2">
                    <div class="col-md-2 d-flex flex-column">
                        <b>Inicio:</b>
                        <input class="form-control filterInput" type="date" id="dateStart"/>
                    </div>
                    <div class="col-md-2 d-flex flex-column">
                        <b>Fin:</b>
                        <input class="form-control filterInput" type="date" id="dateEnd"/>
                    </div>
                    <div class="col-md-2 d-flex flex-column align-items-center justify-content-center">
                        <small>Por defecto muestra las ultimas 4 semanas.</small>
                    </div>
                    <div class="col-md-3 d-flex flex-column">
                        <b>Histopatólogo:</b>
                        <select id="pathologists" class="form-control select2 filterInput" multiple>
                            {% for pathologist in pathologists %}
                            <option
                                {% if user_id == pathologist.id  %} selected {% endif %}
                                value="{{ pathologist.id }}">
                                {{ pathologist.first_name }} {{ pathologist.last_name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-3">
                        <b>Area:</b>
                        <select id="areas" class="form-control select2 filterInput" multiple>
                            {% for area in areas %}
                            <option value="{{ area.id }}">{{ area.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <section class="row">
                    <div class="col-md-6">
                        <div id="weekOrganUser" style="width: auto; height: 30rem">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div id="servicesUser" style="width: auto; height: 30rem">
                        </div>
                    </div>
                </section>
                <div class="row my-2">
                    <div class="col-md-4">
                        <div id="totalsTime" style="width: auto; height: 30rem">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div id="totalsExam" style="width: auto; height: 30rem">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div id="totalsGlobal" style="width: auto; height: 30rem">
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
<!-- END EFFICIENCY TIME -->

<!-- RESPONSE TIME -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <header class="card-header">
                <h1 class="card-title">ANÁLISIS TIEMPOS DE RESPUESTA</h1>
            </header>
            <main class="card-body container-fluid">
                <div class="row my-2">
                    <div class="col-md-2 d-flex flex-column">
                        <b>Inicio:</b>
                        <input class="form-control filterInputResponse" type="date" id="dateStartResponse"/>
                    </div>
                    <div class="col-md-2 d-flex flex-column">
                        <b>Fin:</b>
                        <input class="form-control filterInputResponse" type="date" id="dateEndResponse"/>
                    </div>
                    <div class="col-md-2 d-flex flex-column align-items-center justify-content-center">
                        <small>Por defecto muestra las ultimas 4 semanas.</small>
                    </div>
                    <div class="col-md-3 d-flex flex-column">
                        <b>Histopatólogo:</b>
                        <select id="pathologistsResponse" class="form-control select2 filterInputResponse" multiple>
                            {% for pathologist in pathologists %}
                            <option
                                {% if user_id == pathologist.id  %} selected {% endif %}
                                value="{{ pathologist.id }}">
                                {{ pathologist.first_name }} {{ pathologist.last_name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-3">
                        <b>Area:</b>
                        <select id="areasResponse" class="form-control select2 filterInputResponse" multiple>
                            {% for area in areas %}
                            <option value="{{ area.id }}">{{ area.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <section class="row">
                    <div class="col-md-6">
                        <div id="weeklyDaysResponse" style="width: auto; height: 30rem">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div id="weeklyAnalysis" style="width: auto; height: 30rem">
                        </div>
                    </div>
                </section>
                <div class="row my-2">
                    <div class="col-md-4">
                        <div id="totalsResponseTime" style="width: auto; height: 30rem">
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
<!-- END RESPONSE TIME -->


<!-- END MAIN -->

{% endblock content %}
{% block scripts %}
<script
    type="text/javascript"
    src="//cdn.jsdelivr.net/npm/sweetalert2@10"
    defer>
</script>


<script type="text/javascript"
        src="{% static 'report/js/control-efficiency.js' %}"
        defer>
</script>

<script type="text/javascript"
        src="{% static 'report/js/control-response.js' %}"
        defer>
</script>
{% endblock scripts %}
